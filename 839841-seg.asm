/*@42: 800000=C3500
@43: 30000=7530
@44: 9000=2328
@45: 800=320
@46: 40=28
@47: 1=1
@48: 839841

mov K, rb ; 000
add ra,rb,rd ; 001
ld (ra), rb ; 010
st rb, (ra) ; 011
beq ra, rb, K ; 100
no tomado	   ; 101
nop ; 110


75 CICLOS 
*/

	mov #42, r0	; 000 00000000000000000000101010
	mov #0, r1	; 000 00000000010000000000000000
	mov #48, r2	; 000 000000000100000000000110000
	mov #48, r2	; 000 000000000100000000000110000
	nop
	nop
	nop
WHILE: beq r0, r2, ENDW ; while(r0!=48) 100 00000 00010 0000000000010101
	nop
	ld (r0), r3     ;saco de memoria el dato -> r3=@41+x 010 00000 00011 0000000000000000 
	nop
	nop
	nop
	add r3,r1,r1   ;acumula suma en r1 001 00011 00001 00001 00000000000
	mov r3, #1 ;000 00000 000110000000000000001 
	nop;
	nop
	nop
	add r0, r3, r0 ;001 00000 00011 00000 00000000000 
	nop	
	beq r1, r1, WHILE   ;100 00001 00001 0000000000000110 
	nop
ENDW: ld (r2), r3; saco nip en r3, 010 00010 00011 0000000000000000
	mov #0, r2		; 000 00010 00000 0000000000000000 
	nop
	nop
	nop
	st r1, (r2)     ; guardar resultado en @0, 011 00010 00001 0000000000000000 
	mov #0xffff, r0  ;000 00000 00000 1111111111111111
	mov #0x4E, r2 ; 000 00000 00010 0000000001001110
	mov #0x4F, r4 ; 000 00000 00100 0000000001001111 
	mov #0x20, r5 ; 000 00000 00101 0000000000100000
	st r2, (r0) ; 011 00000 00010 0000000000000000 
	mov #0x4B, r6 ; 000 00000 00110 0000 0000 0100 1011
	beq r1, r3, OKAY  ;100 00001 00011 0000000000100110
	nop
	st r2, (r0) ; NO OK ;011 00000 00010 0000000000000000 
	st r4, (r0) ;011 00000 00100 0000000000000000 
	st r5, (r0) ;011 00000 00101 0000000000000000
OKAY: st r4, (r0) ; OK, 011 00000 00100 0000000000000000
	st r6, (r0)  ;011 00000 00110 0000000000000000

